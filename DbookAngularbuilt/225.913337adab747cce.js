"use strict";(self.webpackChunkmyFirstProject=self.webpackChunkmyFirstProject||[]).push([[225],{9225:(O,m,d)=>{d.r(m),d.d(m,{AllmyBooksModule:()=>U});var a=d(433),c=d(6773),g=d(6895),y=d(5145),u=d(529),h=d(2233),M=d(4457),k=d(6e3);class b{constructor(){this.Id=0,this.Title="",this.AuthorName="",this.Publisher="",this.ReleasedDate="",this.Category="",this.Image="",this.Price="",this.BookContent="",this.AuthorId="",this.IsActive=""}}var _=d(7266),o=d(8256);function Z(n,r){if(1&n&&o._UZ(0,"img",82),2&n){const e=o.oxw().$implicit,t=o.oxw(2);o.hYB("src","",t._imgURL,"",e.Image,"",o.LSH)}}function v(n,r){1&n&&o._UZ(0,"img",83)}function C(n,r){1&n&&(o.TgZ(0,"div",84),o._uU(1,"Book Inactive"),o.qZA())}function A(n,r){if(1&n){const e=o.EpF();o.TgZ(0,"div",67)(1,"div")(2,"div",68)(3,"div",69)(4,"div",70),o.YNc(5,Z,1,2,"img",71),o.YNc(6,v,1,0,"img",72),o.TgZ(7,"button",73),o.NdJ("click",function(){const i=o.CHM(e).$implicit,p=o.oxw(2);return o.KtG(p.captureEditbook(i))}),o._UZ(8,"i",74),o.qZA(),o._uU(9,"\xa0 "),o.TgZ(10,"button",75),o.NdJ("click",function(){const i=o.CHM(e).$implicit,p=o.oxw(2);return o.KtG(p.captureidBook(i.Id))}),o._UZ(11,"i",76),o.qZA(),o.YNc(12,C,2,0,"div",77),o.qZA(),o.TgZ(13,"h5",78)(14,"a",79),o._uU(15),o.qZA()(),o.TgZ(16,"div",80)(17,"span"),o._uU(18,"Publisher: "),o.TgZ(19,"b"),o._uU(20),o.qZA()(),o._UZ(21,"br"),o.TgZ(22,"span"),o._uU(23),o.qZA(),o._UZ(24,"br"),o.TgZ(25,"span"),o._uU(26),o.qZA(),o._UZ(27,"br"),o.TgZ(28,"span",81),o._uU(29),o.qZA(),o._UZ(30,"br"),o.qZA()()()()()}if(2&n){const e=r.$implicit;o.xp6(5),o.Q6J("ngIf",null!=e.Image&&""!=e.Image),o.xp6(1),o.Q6J("ngIf",null==e.Image||""==e.Image),o.xp6(6),o.Q6J("ngIf","0"==e.IsActive),o.xp6(3),o.Oqu(e.Title),o.xp6(5),o.Oqu(e.Publisher),o.xp6(3),o.hij("Released On: ",e.ReleasedDate,""),o.xp6(3),o.hij("Category: ",e.Category,""),o.xp6(3),o.hij("Price: ",e.Price," INR ")}}function T(n,r){1&n&&(o.TgZ(0,"div",85),o._uU(1," You have not added any books yet. "),o.qZA())}function x(n,r){if(1&n&&(o.TgZ(0,"div",64),o.YNc(1,A,31,8,"div",65),o.YNc(2,T,2,0,"div",66),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e._allmyBooks),o.xp6(1),o.Q6J("ngIf",0===(null==e._allmyBooks?null:e._allmyBooks.length))}}const s=function(){return{standalone:!0}};let f=(()=>{class n{constructor(e,t,l){this.http=e,this._loginS=t,this._router=l,this._baseURL=_.h.BASE_API_URL+"Author",this._imgURL=_.h.IMG_URL,this._deleteBookId=0,this._allmyBooks=new Array,this.myBook=new k.OA,this.authorModel=new b,this.getallmyBooks()}ngOnInit(){}getallmyBooks(){this.http.post(this._baseURL+"/getallmyBooks",{AuthorId:this.myBook.AuthorId}).subscribe(t=>{this._allmyBooks=t,this.filtersLoaded=Promise.resolve(!0)},t=>{console.log(t),this.filtersLoaded=Promise.resolve(!0)})}captureidBook(e){this._deleteBookId=e,document.getElementById("btnDelBook")?.click()}deleteBook(){console.log("Captured Data : "+this._deleteBookId),this.http.delete(this._baseURL+"/"+this._deleteBookId).subscribe(e=>{console.log(e),window.location.reload()},e=>{console.log(e)})}captureEditbook(e){this._prevState=e,this.authorModel=new b,this._prevState.IsActive="1"==this._prevState.IsActive||"Yes"==this._prevState.IsActive?"Yes":"No",this.authorModel=this._prevState,document.getElementById("btnEditBook")?.click(),this._prevState=void 0}onFileSelected(e){this.imagedata=e.target.files[0],this.authorModel.Image=this.imagedata.name,console.log("Image Captured = "+this.imagedata.name)}updatebooks(){this.authorModel.IsActive="Yes"==this.authorModel.IsActive||"1"==this.authorModel.IsActive?"1":"0";const e=new FormData;e.append("BookData",JSON.stringify(this.authorModel)),(null!=this.imagedata||null!=this.imagedata)&&e.append("BookImg",this.imagedata,this.imagedata.name),this.http.put(this._baseURL+"/editBook/"+this.authorModel.Id,e).subscribe(t=>{console.log(t),document.getElementById("btnsuccessEdit")?.click(),window.setTimeout(()=>{document.getElementById("btnSuccessEditClose")?.click(),window.location.reload()},500)},t=>{document.getElementById("buttonCloseEditBook")?.click(),console.log(t),document.getElementById("btnfailedEdit")?.click()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(u.eN),o.Y36(h.N),o.Y36(c.F0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-allmybooks"]],decls:114,vars:27,consts:[["class","row border border-0 border-Secondary p-3 rounded rounded-3",4,"ngIf"],["data-bs-toggle","modal","href","#ConfirmDelete","role","button","id","btnDelBook",1,"btn","btn-primary",2,"display","none"],["id","ConfirmDelete","tabindex","-1","role","dialog","aria-labelledby","deleteModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-sm","modal-notify","modal-danger","modal-dialog-centered"],[1,"modal-content","text-center"],[1,"modal-header","d-flex","justify-content-center"],[1,"heading"],[1,"modal-body"],["src","https://t4.ftcdn.net/jpg/03/46/38/39/360_F_346383913_JQecl2DhpHy2YakDz1t3h0Tk3Ov8hikq.jpg","width","100","height","100",1,"media-object"],[1,"modal-footer","flex-center"],[1,"btn","btn-outline-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger","waves-effect"],["data-bs-toggle","modal","href","#editBookModal","role","button","id","btnEditBook",1,"btn","btn-primary",2,"display","none"],["id","editBookModal","tabindex","-1","role","dialog","aria-labelledby","ModalLabel","aria-hidden","true",1,"modal","fade","modal-xl",2,"background","linear-gradient(90deg, #000 0%, #fff 100%)"],["role","document",1,"modal-dialog"],[1,"modal-content",2,"background","radial-gradient( #34C1B9 0%, #fff 100%)"],[1,"modal-header"],["id","ModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true","id","buttonCloseEditBook"],["method","POST","enctype","multipart/form-data","method","post","id","EditbookForm",3,"ngSubmit"],["updateBookForm","ngForm"],[1,"form-group"],["for","Title"],["type","text","id","Title","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","Publisher"],["type","text","id","Publisher","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","ReleasedDate"],["type","date","id","ReleasedDate","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","Price"],["type","number","id","Price","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","Image"],[2,"padding-right","3px","padding-top","3px","display","inline-block"],["height","45","width","45",1,"media-object",3,"src"],["type","file","name","mobilePhone","id","Image","accept","image/*",1,"form-control",3,"change"],["for","Category"],["id","Category",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["value","Stories"],["value","Tales"],["value","Biography"],["value","Others"],["for","IsActive"],["id","IsActive",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["value","Yes"],["value","No"],["for","BookContent"],["id","BookContent","rows","8","cols","40","required","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"modal-footer"],["data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit","id","updateBookButton","value","Save Changes",1,"btn","btn-primary",3,"disabled"],["data-bs-toggle","modal","href","#ignismyModal","role","button","id","btnsuccessEdit",1,"btn","btn-primary",2,"display","none"],["data-bs-toggle","modal","href","#updatebookFailed","role","button","id","btnfailedEdit",1,"btn","btn-primary",2,"display","none"],["id","ignismyModal","role","dialog","aria-hidden","true","data-backdrop","static","data-keyboard","false",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header",2,"display","flex","justify-content","flex-end"],["type","button","data-bs-dismiss","modal","aria-label","","id","btnSuccessEditClose",1,"close"],[1,"thank-you-pop"],["src","http://goactionstations.co.uk/wp-content/uploads/2017/03/Green-Round-Tick.png","alt",""],["id","updatebookFailed","aria-hidden","true","aria-labelledby","BookUpdateFailedLabel",1,"modal","fade"],[1,"modal-dialog","modal-sm"],[1,"modal-header",2,"background-color","rgb(165, 56, 56)","border","0px"],["type","button","aria-label","Close","data-bs-dismiss","modal",1,"close"],[1,"modal-body",2,"background-color","rosybrown"],[1,"row","border","border-0","border-Secondary","p-3","rounded","rounded-3"],["class","col-sm-6",4,"ngFor","ngForOf"],["class","badge bg-primary text-wrap","style","width: 100rem; font-size: large;",4,"ngIf"],[1,"col-sm-6"],[1,"card","mb-3"],[1,"card-body"],[1,"container"],["class","card-img-top","height","280","style","opacity: 70%;",3,"src",4,"ngIf"],["class","card-img-top","src","https://artsmidnorthcoast.com/wp-content/uploads/2014/05/no-image-available-icon-6.png","height","280",4,"ngIf"],[1,"ebtn",3,"click"],[1,"fa","fa-edit",2,"font-size","24px"],[1,"dbtn",3,"click"],[1,"fa","fa-trash",2,"font-size","24px","color","red"],["class","centeredtext",4,"ngIf"],[1,"card-title"],[2,"text-decoration","none","cursor","pointer","color","blue",3,"routerLink"],[1,"card-text"],[1,"list-group-item"],["height","280",1,"card-img-top",2,"opacity","70%",3,"src"],["src","https://artsmidnorthcoast.com/wp-content/uploads/2014/05/no-image-available-icon-6.png","height","280",1,"card-img-top"],[1,"centeredtext"],[1,"badge","bg-primary","text-wrap",2,"width","100rem","font-size","large"]],template:function(e,t){1&e&&(o.TgZ(0,"h1"),o._uU(1,"Your Books"),o.qZA(),o.YNc(2,x,3,2,"div",0),o.ALo(3,"async"),o.TgZ(4,"button",1),o._uU(5,"DeleteBookData"),o.qZA(),o.TgZ(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5)(10,"p",6),o._uU(11,"Are you sure?"),o.qZA()(),o.TgZ(12,"div",7),o._UZ(13,"img",8),o.qZA(),o.TgZ(14,"div",9)(15,"a",10),o.NdJ("click",function(){return t.deleteBook()}),o._uU(16,"Yes"),o.qZA(),o.TgZ(17,"a",11),o._uU(18,"No"),o.qZA()()()()(),o.TgZ(19,"button",12),o._uU(20,"EditBookData"),o.qZA(),o.TgZ(21,"div",13)(22,"div",14)(23,"div",15)(24,"div",16)(25,"h5",17),o._uU(26,"Edit Your Book \u{1f4da} "),o.qZA(),o.TgZ(27,"button",18)(28,"span",19),o._uU(29,"\xd7"),o.qZA()()(),o.TgZ(30,"div",7)(31,"form",20,21),o.NdJ("ngSubmit",function(){return t.updatebooks()}),o.TgZ(33,"div",22)(34,"label",23),o._uU(35,"Title"),o.qZA(),o.TgZ(36,"input",24),o.NdJ("ngModelChange",function(i){return t.authorModel.Title=i}),o.qZA()(),o.TgZ(37,"div",22)(38,"label",25),o._uU(39,"Publisher"),o.qZA(),o.TgZ(40,"input",26),o.NdJ("ngModelChange",function(i){return t.authorModel.Publisher=i}),o.qZA()(),o.TgZ(41,"div",22)(42,"label",27),o._uU(43,"Released Date"),o.qZA(),o.TgZ(44,"input",28),o.NdJ("ngModelChange",function(i){return t.authorModel.ReleasedDate=i}),o.qZA()(),o.TgZ(45,"div",22)(46,"label",29),o._uU(47,"Price"),o.qZA(),o.TgZ(48,"input",30),o.NdJ("ngModelChange",function(i){return t.authorModel.Price=i}),o.qZA()(),o.TgZ(49,"div",22)(50,"label",31),o._uU(51,"Image"),o.qZA(),o._uU(52,"\xa0 "),o.TgZ(53,"span",32),o._UZ(54,"img",33),o.qZA(),o.TgZ(55,"input",34),o.NdJ("change",function(i){return t.onFileSelected(i)}),o.qZA()(),o.TgZ(56,"div",22)(57,"label",35),o._uU(58,"Category"),o.qZA(),o.TgZ(59,"select",36),o.NdJ("ngModelChange",function(i){return t.authorModel.Category=i}),o.TgZ(60,"option",37),o._uU(61,"Stories"),o.qZA(),o.TgZ(62,"option",38),o._uU(63,"Tales"),o.qZA(),o.TgZ(64,"option",39),o._uU(65,"Biography"),o.qZA(),o.TgZ(66,"option",40),o._uU(67,"Others"),o.qZA()()(),o.TgZ(68,"div",22)(69,"label",41),o._uU(70,"Active?"),o.qZA(),o.TgZ(71,"select",42),o.NdJ("ngModelChange",function(i){return t.authorModel.IsActive=i}),o.TgZ(72,"option",43),o._uU(73,"Yes"),o.qZA(),o.TgZ(74,"option",44),o._uU(75,"No"),o.qZA()()(),o.TgZ(76,"div",22)(77,"label",45),o._uU(78,"Book Content"),o.qZA(),o.TgZ(79,"textarea",46),o.NdJ("ngModelChange",function(i){return t.authorModel.BookContent=i}),o.qZA()(),o.TgZ(80,"div",47)(81,"a",48),o._uU(82,"Close"),o.qZA(),o._UZ(83,"input",49),o.qZA()()()()()(),o.TgZ(84,"button",50),o._uU(85,"Book Edited"),o.qZA(),o.TgZ(86,"button",51),o._uU(87,"Book Edited Failed"),o.qZA(),o.TgZ(88,"div",52)(89,"div",53)(90,"div",54)(91,"div",55)(92,"button",56)(93,"span"),o._uU(94,"\xd7"),o.qZA()()(),o.TgZ(95,"div",7)(96,"div",57),o._UZ(97,"img",58),o.TgZ(98,"h1"),o._uU(99,"Thank You!"),o.qZA(),o.TgZ(100,"p"),o._uU(101,"Your book has been updated"),o.qZA()()()()()(),o.TgZ(102,"div",59)(103,"div",60)(104,"div",54)(105,"div",61)(106,"b"),o._uU(107,"Error"),o.qZA(),o.TgZ(108,"button",62),o._uU(109,"\xd7"),o.qZA()(),o.TgZ(110,"div",63)(111,"h5"),o._uU(112,"Error updating your book \u{1f614}"),o.qZA(),o._uU(113," Try again later ! "),o.qZA()()()()),2&e&&(o.xp6(2),o.Q6J("ngIf",o.lcZ(3,18,t.filtersLoaded)),o.xp6(34),o.Q6J("ngModel",t.authorModel.Title)("ngModelOptions",o.DdM(20,s)),o.xp6(4),o.Q6J("ngModel",t.authorModel.Publisher)("ngModelOptions",o.DdM(21,s)),o.xp6(4),o.Q6J("ngModel",t.authorModel.ReleasedDate)("ngModelOptions",o.DdM(22,s)),o.xp6(4),o.Q6J("ngModel",t.authorModel.Price)("ngModelOptions",o.DdM(23,s)),o.xp6(6),o.hYB("src","",t._imgURL,"",t.authorModel.Image,"",o.LSH),o.xp6(5),o.Q6J("ngModel",t.authorModel.Category)("ngModelOptions",o.DdM(24,s)),o.xp6(12),o.Q6J("ngModel",t.authorModel.IsActive)("ngModelOptions",o.DdM(25,s)),o.xp6(8),o.Q6J("ngModel",t.authorModel.BookContent)("ngModelOptions",o.DdM(26,s)),o.xp6(4),o.Q6J("disabled",""==t.authorModel.Title||""==t.authorModel.Publisher||""==t.authorModel.ReleasedDate||""==t.authorModel.Category||""==t.authorModel.BookContent))},dependencies:[g.sg,g.O5,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.Q7,a.On,a.F,c.yS,g.Ov],styles:[".container[_ngcontent-%COMP%]   .dbtn[_ngcontent-%COMP%]{position:absolute;top:10%;left:90%;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);font-size:8px;border:none;cursor:pointer;border-radius:10px;text-align:center}.container[_ngcontent-%COMP%]   .ebtn[_ngcontent-%COMP%]{position:absolute;top:10%;left:83%;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);font-size:8px;border:none;cursor:pointer;border-radius:10px;text-align:center}.container[_ngcontent-%COMP%]   .ebtn[_ngcontent-%COMP%]:hover{background-color:green}.container[_ngcontent-%COMP%]   .dbtn[_ngcontent-%COMP%]:hover{background-color:gray}.modal-body[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto;border-radius:50%;z-index:9;text-align:center;border:3px solid #f15e5e}.thank-you-pop[_ngcontent-%COMP%]{width:100%;padding:20px;text-align:center}.thank-you-pop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:76px;height:auto;margin:0 auto 25px;display:block}.thank-you-pop[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:42px;margin-bottom:25px;color:#5c5c5c}.thank-you-pop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin-bottom:27px;color:#5c5c5c}.thank-you-pop[_ngcontent-%COMP%]   h3.cupon-pop[_ngcontent-%COMP%]{font-size:25px;margin-bottom:40px;color:#222;display:inline-block;text-align:center;padding:10px 20px;border:2px dashed #222;clear:both;font-weight:400}.thank-you-pop[_ngcontent-%COMP%]   h3.cupon-pop[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#03a9f4}.thank-you-pop[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;margin:0 auto;padding:9px 20px;color:#fff;text-transform:uppercase;font-size:14px;background-color:#8bc34a;border-radius:17px}.thank-you-pop[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px;color:#fff}#ignismyModal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border:0px}.centeredtext[_ngcontent-%COMP%]{font-family:Lucida Console,Courier New,monospace;background-color:#1a0bf0;color:#ff0;border-radius:5px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),n})();const B=[{path:"all",component:f}];let U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[f]}),n.\u0275inj=o.cJS({providers:[h.N,{provide:u.TP,useClass:M._,multi:!0}],imports:[g.ez,a.u5,a.UX,c.Bz.forChild(B),y.A,u.JF]}),n})()}}]);