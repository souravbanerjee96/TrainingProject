"use strict";(self.webpackChunkmyFirstProject=self.webpackChunkmyFirstProject||[]).push([[104],{6104:(w,r,i)=>{i.r(r),i.d(r,{ReadBooksModule:()=>J});var g=i(433),m=i(6773),l=i(6895),h=i(5145),c=i(529),b=i(2233),v=i(4457),p=i(7266),e=i(8256);function k(t,n){1&t&&(e.TgZ(0,"div",29)(1,"p",30)(2,"strong"),e._uU(3,"Read"),e.qZA()()())}function x(t,n){1&t&&(e.TgZ(0,"div",31)(1,"p",30)(2,"strong"),e._uU(3,"Inactive"),e.qZA()()())}function _(t,n){if(1&t&&e._UZ(0,"img",32),2&t){const o=e.oxw().$implicit,s=e.oxw(2);e.hYB("src","",s._imgURL,"",o.Image,"",e.LSH)}}function y(t,n){1&t&&e._UZ(0,"img",33)}function I(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"a",34),e.NdJ("click",function(){e.CHM(o);const d=e.oxw().$implicit,u=e.oxw(2);return e.KtG(u.prepareBook(d))}),e.qZA()}}const R=function(){return{cursor:"not-allowed"}};function T(t,n){1&t&&e._UZ(0,"a",35),2&t&&e.Q6J("ngStyle",e.DdM(1,R))}function B(t,n){if(1&t&&(e.TgZ(0,"div",16)(1,"div",17)(2,"div",18)(3,"p",19),e._uU(4),e.qZA(),e.YNc(5,k,4,0,"div",20),e.YNc(6,x,4,0,"div",21),e.qZA(),e.YNc(7,_,1,2,"img",22),e.YNc(8,y,1,0,"img",23),e.TgZ(9,"div",24)(10,"div",25)(11,"h5",26),e._uU(12),e.qZA()(),e.YNc(13,I,1,0,"a",27),e.YNc(14,T,1,2,"a",28),e.qZA()()()),2&t){const o=n.$implicit;e.xp6(4),e.Oqu(o.Category),e.xp6(1),e.Q6J("ngIf",0!=o.IsActive),e.xp6(1),e.Q6J("ngIf",0==o.IsActive),e.xp6(1),e.Q6J("ngIf",null!=o.Image&&""!=o.Image),e.xp6(1),e.Q6J("ngIf",null==o.Image||""==o.Image),e.xp6(4),e.Oqu(o.Title),e.xp6(1),e.Q6J("ngIf",0!=o.IsActive),e.xp6(1),e.Q6J("ngIf",0==o.IsActive)}}function Z(t,n){if(1&t&&(e.TgZ(0,"section",11)(1,"div",12)(2,"div",13),e.YNc(3,B,15,8,"div",14),e._UZ(4,"div",15),e.qZA()()()),2&t){const o=e.oxw();e.xp6(3),e.Q6J("ngForOf",o._readBook)}}function A(t,n){1&t&&e._UZ(0,"img",37)}function C(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,A,1,0,"img",36),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",o._readBook.length<=0)}}let f=(()=>{class t{constructor(o,s,d){this.http=o,this.router=s,this.datepipe=d,this._baseURL=p.h.BASE_API_URL+"Reader",this._imgURL=p.h.IMG_URL,this.ReadbookDat="",this._readBook=new Array}ngOnInit(){this.readBooks()}readBooks(){this.readerId=localStorage.getItem("readerId"),this.http.get(this._baseURL+"/readbooks?readerID="+this.readerId).subscribe(o=>{this._readBook=o,this.filtersLoaded=Promise.resolve(!0)},o=>{console.log(o),alert(o)})}prepareBook(o){delete o.Id,delete o.PurchaseTime,delete o.IsActive,delete o.IsRefunded,delete o.Id;const s=Object.keys(o),d=Object.values(o);Object.entries(o),this.ReadbookDat="";for(var a=0;a<Object.keys(o).length;a++)null!=d[a]&&""!=d[a]&&("Image"==s[a]&&(d[a]='<img class="media-object" src="'+this._imgURL+d[a]+'" width="300" height="200"/><br/>'),this.ReadbookDat=this.ReadbookDat+d[a]+"<br/>");document.getElementById("btnReadBook")?.click()}formatDate(o){return this.datepipe.transform(o,"yyyy/MM/dd")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(c.eN),e.Y36(m.F0),e.Y36(l.uU))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-readbooks"]],decls:16,vars:7,consts:[["style","background-color: transparent; width: 1000px;",4,"ngIf"],[4,"ngIf"],["id","BookReadToggle","aria-hidden","true","aria-labelledby","exampleModalToggleLabel","tabindex","-1",1,"modal","modal-lg","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header",2,"color","rgb(39, 53, 37)","font-size","12px","background-color","rgb(96, 165, 244)","text-align","center"],["id","BookReadToggleLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["id","ErrorMs",1,"modal-body",2,"color","black","text-align","center","background-color","rgb(214, 200, 203)"],[3,"innerHTML"],["id","btnReadBook","data-bs-toggle","modal","href","#BookReadToggle","role","button",1,"btn","btn-primary",2,"display","none"],[2,"background-color","transparent","width","1000px"],[1,"container-fluid","py-5"],[1,"row","justify-content-right"],["class","col-md-12 col-lg-4 mb-4",4,"ngFor","ngForOf"],[1,"col-1"],[1,"col-md-12","col-lg-4","mb-4"],[1,"card",2,"cursor","pointer"],[1,"d-flex","justify-content-between","p-3"],[1,"lead","mb-0"],["class","bg-success rounded d-flex align-items-center justify-content-center shadow-1-strong","style","width: 50px; height: 40px;",4,"ngIf"],["class","bg-danger rounded d-flex align-items-center justify-content-center shadow-1-strong","style","width: 60px; height: 39px;",4,"ngIf"],["style","pointer-events: none;","height","300","class","card-img-top","alt","Book",3,"src",4,"ngIf"],["style","pointer-events: none;","src","https://drupal.nypl.org/sites-drupal/default/files/blogs/sJ3CT4V.gif","height","300","class","card-img-top","alt","Book",4,"ngIf"],[1,"card-body"],[1,"d-flex","justify-content-between","mb-3"],[1,"mb-0"],["class","stretched-link",3,"click",4,"ngIf"],["class","stretched-link",3,"ngStyle",4,"ngIf"],[1,"bg-success","rounded","d-flex","align-items-center","justify-content-center","shadow-1-strong",2,"width","50px","height","40px"],[1,"text-white","mb-0","small"],[1,"bg-danger","rounded","d-flex","align-items-center","justify-content-center","shadow-1-strong",2,"width","60px","height","39px"],["height","300","alt","Book",1,"card-img-top",2,"pointer-events","none",3,"src"],["src","https://drupal.nypl.org/sites-drupal/default/files/blogs/sJ3CT4V.gif","height","300","alt","Book",1,"card-img-top",2,"pointer-events","none"],[1,"stretched-link",3,"click"],[1,"stretched-link",3,"ngStyle"],["src","../../assets/image/dino.png","class","img-fluid","style","pointer-events: none;",4,"ngIf"],["src","../../assets/image/dino.png",1,"img-fluid",2,"pointer-events","none"]],template:function(o,s){1&o&&(e.YNc(0,Z,5,1,"section",0),e.ALo(1,"async"),e.YNc(2,C,2,1,"div",1),e.ALo(3,"async"),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"h5",6)(9,"b"),e._uU(10,"Read Books"),e.qZA()(),e._UZ(11,"button",7),e.qZA(),e.TgZ(12,"div",8),e._UZ(13,"div",9),e.qZA()()()(),e.TgZ(14,"a",10),e._uU(15,"Read Book"),e.qZA()),2&o&&(e.Q6J("ngIf",e.lcZ(1,3,s.filtersLoaded)&&s._readBook.length>0),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,5,s.filtersLoaded)),e.xp6(11),e.Q6J("innerHTML",s.ReadbookDat,e.oJD))},dependencies:[l.sg,l.O5,l.PC,l.Ov]}),t})();const U=[{path:"books",component:f}];let J=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t,bootstrap:[f]}),t.\u0275inj=e.cJS({providers:[b.N,l.uU,{provide:c.TP,useClass:v._,multi:!0}],imports:[l.ez,g.u5,g.UX,m.Bz.forChild(U),h.A,c.JF]}),t})()}}]);